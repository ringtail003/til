---
title: 共変・反変・双変
description: null
tags: typescript
updatedAt: 2023-07-17
published: true
---

# 共変（covariance）

型そのもの、もしくはサブタイプを割り当てることができる。

```ts
class Animal {}
class Dog extends Animal {}

function fn(arg: Animal) {}

fn(new Animal()); // 型そのもの
fn(new Dog()); // サブタイプ
```

# 反変（contravariance）

型そのもの、もしくはスーパータイプを割り当てることができる。

```ts
class Animal {}
class Dog extends Animal {}

function fn(arg: Dog) {}

fn(new Animal());
fn(new Dog());
```

# 双変（bivariance）

型そのもの・もしくはサブタイプ、もしくはスーパータイプを割り当てることができる。

```ts
class Animal {}
class Dog extends Animal {}
class Shiba extends Dog {}

function fn(arg: Dog) {}

fn(new Animal());
fn(new Dog());
fn(new Shiba());
```

# 変性

共変・反変・双変のいずれかを指す。
